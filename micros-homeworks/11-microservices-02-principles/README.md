
# Домашнее задание к занятию "Микросервисы: принципы"

Вы работаете в крупной компанию, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- Маршрутизация запросов к нужному сервису на основе конфигурации
- Возможность проверки аутентификационной информации в запросах
- Обеспечение терминации HTTPS

Обоснуйте свой выбор.

#### Ответ

Для реализации API Gateway я бы рекомендовал использовать одно из следующих программных решений: Kong, Istio или Apigee.

|    Функциональность     |         Kong         |    Istio     |  Apigee  |
|:-----------------------:|:--------------------:|:------------:|:--------:|
| Маршрутизация запросов  |          +           |      +       |    +     |
| Аутентификация запросов |          +           |      +       |    +     |
|    Терминация HTTPS     |          +           |      +       |    +     |
|   Управление трафиком   |          +           |      +       |    +     |
|       Мониторинг        |          +           |      +       |    +     |
|      Скалирование       |          +           |      +       |    +     |
|  Поддержка Kubernetes   |          +           |      +       |    +     |
| _______________________ | ____________________ | ____________ | ________ |
|        Стоимость        |  Бесплатно / Платно  |  Бесплатно   |  Платно  |

Все три решения обеспечивают необходимые требования, такие как маршрутизация запросов, проверка аутентификационной информации в запросах и терминация HTTPS. Кроме того, они обеспечивают управление трафиком, мониторинг, скалирование и поддержку Kubernetes.

Kong - это бесплатное решение, которое предоставляет много полезных функций для управления трафиком, маршрутизации и аутентификации. Он также поддерживает множество плагинов, что позволяет расширить его функциональность.

Istio - это бесплатное решение, которое предоставляет широкие возможности для управления трафиком, маршрутизации, аутентификации и авторизации. Он также обеспечивает интеграцию с Kubernetes, что позволяет использовать его для развертывания на кластерах Kubernetes.

Apigee - это платное решение, которое предоставляет множество возможностей для управления трафиком, маршрутизации, аутентификации и авторизации. Он также обеспечивает мощные функции аналитики и мониторинга, что позволяет отслеживать работу API.

Исходя из сравнительной таблицы, я бы рекомендовал использовать Kong. Он обеспечивает необходимые функции для реализации API Gateway, поддерживает множество плагинов, бесплатен и имеет хорошее сообщество. Если у компании есть необходимость в расширении функциональности, то можно легко добавить нужные плагины.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- Поддержка кластеризации для обеспечения надежности
- Хранение сообщений на диске в процессе доставки
- Высокая скорость работы
- Поддержка различных форматов сообщений
- Разделение прав доступа к различным потокам сообщений
- Протота эксплуатации

Обоснуйте свой выбор.

#### Ответ

Для решения задачи брокеров сообщений я бы рекомендовал использовать одно из следующих решений: Apache Kafka, RabbitMQ или Apache ActiveMQ.

|            Функциональность            | Apache Kafka | RabbitMQ | Apache ActiveMQ |
|:--------------------------------------:|:------------:|:--------:|:---------------:|
|        Поддержка кластеризации         |      +       |    +     |        +        |
|      Хранение сообщений на диске       |      +       |    +     |        +        |
|        Высокая скорость работы         |      +       |    +     |        +        |
| Поддержка различных форматов сообщений |      +       |    +     |        +        |
|        Разделение прав доступа         |      +       |    +     |        +        |
|         Простота эксплуатации          |      -       |    +     |        +        |

Apache Kafka - это быстрый и масштабируемый брокер сообщений, который используется для обработки потоков данных. Он обеспечивает высокую производительность, поддерживает кластеризацию и хранение сообщений на диске, но требует большого количества ресурсов и не всегда прост в настройке.

RabbitMQ - это мощный и гибкий брокер сообщений, который обеспечивает надежность и поддержку кластеризации. Он также обеспечивает хранение сообщений на диске, поддерживает множество форматов сообщений и разделение прав доступа. RabbitMQ отлично подходит для многих сценариев, таких как обработка задач, микросервисная архитектура и т.д. Он прост в использовании и имеет хорошее сообщество пользователей.

Apache ActiveMQ - это мощный брокер сообщений с широким набором функций, включая кластеризацию, хранение сообщений на диске, поддержку множества форматов сообщений и разделение прав доступа. Он обеспечивает высокую надежность и производительность, но может быть сложен в настройке.

Исходя из сравнительной таблицы, я бы рекомендовал использовать RabbitMQ. Он обеспечивает все необходимые функции, включая поддержку кластеризации, хранение сообщений на диске, высокую скорость работы, поддержку различных форматов сообщений и разделение прав доступа. Он также легок в использовании и имеет хорошую документацию и поддержку сообщества. RabbitMQ отлично подходит для большинства случаев использования, таких как обработка задач и микросервисная архитектура.

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---