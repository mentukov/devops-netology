# Домашнее задание к занятию 13 «Введение в мониторинг»

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчётов, которые сохраняются на диск. 
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы выведите в мониторинг и почему?


### Ответ

Важно отслеживать производительность и доступность платформы, чтобы быстро реагировать на возможные проблемы. 
Ниже представлены несколько метрик, которые я бы рекомендовал отслеживать:

- Загрузка ЦПУ: данная метрика позволяет отслеживать, насколько интенсивно используется процессор на сервере. 
Высокая загрузка ЦПУ может указывать на необходимость увеличения мощности сервера или оптимизации приложения.

- Количество запросов: данная метрика позволяет оценить количество запросов к серверу за определенный промежуток времени. 
Высокое количество запросов может указывать на популярность приложения, но также может привести к перегрузке сервера.

- Время отклика сервера: данная метрика позволяет оценить, насколько быстро сервер отвечает на запросы. 
Быстрый отклик сервера важен для удобства пользователей и оптимизации производительности приложения.

- Коды ответов сервера: данная метрика позволяет отслеживать коды ответов сервера на запросы. 
Коды ответов 2xx означают успешный запрос, а 4xx и 5xx - ошибки, которые необходимо решать.

- Использование дискового пространства: данная метрика позволяет отслеживать, сколько дискового пространства используется на сервере. 
Высокое использование дискового пространства может указывать на необходимость увеличения мощности сервера или оптимизации приложения.

Конечно, этот список метрик может быть расширен в зависимости от конкретных требований и особенностей проекта. 
Но вышеперечисленные метрики помогут понять, как происходит работа приложения и насколько оно эффективно использует ресурсы сервера.


2. Менеджер продукта, посмотрев на ваши метрики, сказал, что ему непонятно, что такое RAM/inodes/CPUla. Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?


### Ответ

Если менеджеру продукта не понятны технические термины, то можно использовать более простые и понятные метрики, которые будут отражать качество обслуживания и выполнение обязательств перед клиентами. Ниже я предлагаю несколько примеров таких метрик:

- Время отклика сервера на запросы: данная метрика отображает, сколько времени требуется серверу для ответа на запросы. Чем меньше время отклика, тем быстрее работает приложение, и тем более удобно и приятно пользоваться продуктом.

- Количество ошибок в приложении: данная метрика позволяет отслеживать количество ошибок, которые возникают в приложении. Количество ошибок может указывать на проблемы с производительностью, низкое качество кода или неправильную работу отдельных модулей приложения.

- Количество запросов на поддержку: данная метрика отображает, сколько запросов на поддержку приходит от клиентов. Чем меньше запросов на поддержку, тем меньше проблем у пользователей при работе с продуктом.

- Количество пользователей: данная метрика позволяет отслеживать количество пользователей, которые пользуются продуктом. Рост количества пользователей может указывать на популярность продукта и успешную маркетинговую стратегию.

- Количество скачиваний: данная метрика отображает, сколько раз продукт был скачан пользователем. Чем больше количество скачиваний, тем более популярен продукт.

Конечно, это не полный список метрик, но они помогут менеджеру продукта понимать, насколько успешно продукт выполняет свои обязательства перед клиентами и насколько качественно обслуживает пользователей. Важно подбирать метрики, которые наиболее отражают цели и задачи продукта.


3. Вашей DevOps-команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики, в свою очередь, хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?

### Ответ

В данной ситуации можно использовать бесплатные инструменты для сбора логов и мониторинга приложений. Например, можно использовать сервисы, такие как Elasticsearch, Logstash, Kibana (ELK-стек), которые позволяют собирать, хранить и анализировать логи приложений.

Для реализации данного подхода можно выполнить следующие шаги:

- Установить Elasticsearch, Logstash, Kibana (ELK-стек) на одном из серверов в сети.
- Настроить логирование приложения на отправку логов в Logstash.
- Настроить Logstash на фильтрацию и парсинг логов.
- Настроить Kibana для анализа и визуализации логов.

После настройки данного стека инструментов, разработчики смогут видеть ошибки приложения в реальном времени через интерфейс Kibana. Также можно использовать уведомления, чтобы уведомлять разработчиков о новых ошибках, чтобы они могли быстро отреагировать на проблемы приложения.

Важно понимать, что бесплатные решения могут иметь ограничения по количеству хранимых логов или по производительности, поэтому при увеличении объемов логов или при росте числа пользователей приложения может потребоваться дополнительная оптимизация или переход на коммерческие инструменты.

3. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA = 99% по http-кодам ответов. 
Этот параметр вычисляется по формуле: summ_2xx_requests/summ_all_requests. Он не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?


---

### Как оформить решение задания

Выполненное домашнее задание пришлите в виде ссылки на .md-файл в вашем репозитории.


---
